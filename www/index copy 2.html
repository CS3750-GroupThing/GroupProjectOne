<!DOCTYPE html>
<html>
<head>
<title>Todo list</title>
</head>
<body>
<br /><br /><br />
Test<br /><br />sdhdsgsdg
<script type="text/javascript" charset="utf-8" src="phonegap.js"></script>
<script type="text/javascript" charset="utf-8">

    // Wait for PhoneGap to load
    //
    /*document.addEventListener("deviceready", onDeviceReady, false);*/

    // PhoneGap is ready
    //
        var db = window.openDatabase("Database", "1.0", "todo", 200000);
        db.transaction(populateDB, errorCB, successCB);
        db.transaction(queryDB, errorCB);

    // Populate the database 
    //
    function populateDB(tx) {
         tx.executeSql('DROP TABLE IF EXISTS todo_Users');
         tx.executeSql('DROP TABLE IF EXISTS todo_Items');
         tx.executeSql('CREATE TABLE IF NOT EXISTS todo_Users (username, password)');
         tx.executeSql('CREATE TABLE IF NOT EXISTS todo_Items (id AUTO_INCREMENT, owner, completed, description)');
         tx.executeSql('INSERT INTO todo_Users (username, password) VALUES ("Aaron", "1234")');
         tx.executeSql('INSERT INTO todo_Items (owner, completed, description) VALUES ("Aaron", 0, "Mow the lawn")');

    }

    // Transaction error callback
    //
    function errorCB(tx, err) {
        alert("Error processing SQL: "+err);
    }

    // Transaction success callback
    //
    function successCB() {
        alert("success!");
    }
    
    function queryDB(tx) {
    tx.executeSql('SELECT * FROM todo_Items', [], querySuccess, errorCB);
}

function querySuccess(tx, results) {
    var len = results.rows.length;
	alert("Todo table: " + len + " rows found.");
	for (var i=0; i<len; i++){
	    alert("Row = " + i + " Owner = " + results.rows.item(i).owner + " Completed =  " + results.rows.item(i).completed + " Description =  " + results.rows.item(i).description);
    }
}
    </script>
</body>
</html> 